import re
import requests
import csv

# Чтение списка ссылок из файла urls.csv
with open('urls.csv') as f:
    reader = csv.reader(f)
    urls = [row[0] for row in reader]

# Обработка каждой ссылки в списке
for url in urls:
    response = requests.get(url)

    # Извлечение адресов электронной почты
    emails = set(re.findall(r'\b[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Z|a-z]{2,}\b', response.text))

    # Извлечение номеров телефонов
    phones = set(re.findall(r'(\+?\d[\d\-\s\(\)]{8,}\d)', response.text))

    print(f"Contacts for {url}:")
    print("Emails:")
    for email in emails:
        print(email)

    print("Phones:")
    for phone in phones:
        print(phone)
